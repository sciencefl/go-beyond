<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.59" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://sciencefl.github.io/architecture-design/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%E4%B8%8E%E6%80%9D%E6%83%B3.html"><meta property="og:site_name" content="FlynnDocs 学习笔记"><meta property="og:title" content="设计原则与思想"><meta property="og:description" content="设计原则与思想 前言 面向对象、设计原则、设计模式、编程规范、重构技巧之间的关系。 imgimg 面向对象编程因为具有丰富的特性(抽象、封装、继承、多态)，可以实现很多复杂的设计思路，是很多设计原则、设计模式等编码实现的基础。 设计原则是指导我们代码设计的一些经验总结，对与某些场景下，是否应该应用某种设计模式具有指导意义，比如，开闭原则是很多设计模式(..."><meta property="og:type" content="article"><meta property="og:image" content="https://static001.geekbang.org/resource/image/f3/d3/f3262ef8152517d3b11bfc3f2d2b12d3.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-12-05T08:51:01.000Z"><meta property="article:tag" content="设计模式"><meta property="article:modified_time" content="2024-12-05T08:51:01.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"设计原则与思想","image":["https://static001.geekbang.org/resource/image/f3/d3/f3262ef8152517d3b11bfc3f2d2b12d3.png"],"dateModified":"2024-12-05T08:51:01.000Z","author":[{"@type":"Person","name":"Flynn","url":"https://sciencefl.github.io/"}]}</script><title>设计原则与思想 | FlynnDocs 学习笔记</title><meta name="description" content="设计原则与思想 前言 面向对象、设计原则、设计模式、编程规范、重构技巧之间的关系。 imgimg 面向对象编程因为具有丰富的特性(抽象、封装、继承、多态)，可以实现很多复杂的设计思路，是很多设计原则、设计模式等编码实现的基础。 设计原则是指导我们代码设计的一些经验总结，对与某些场景下，是否应该应用某种设计模式具有指导意义，比如，开闭原则是很多设计模式(...">
    <link rel="stylesheet" href="/assets/css/styles.2bcd51c7.css">
    <link rel="preload" href="/assets/js/runtime~app.4f703515.js" as="script"><link rel="preload" href="/assets/css/styles.2bcd51c7.css" as="style"><link rel="preload" href="/assets/js/72.5eeee6ed.js" as="script"><link rel="preload" href="/assets/js/app.2fe6bdc4.js" as="script">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/" aria-label="带我回家"><img class="vp-nav-logo" src="https://theme-hope-assets.vuejs.press/logo.svg" alt><!----><span class="vp-site-name hide-in-pad">FlynnDocs 学习笔记</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/architecture-design/" aria-label="架构设计"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->架构设计<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/cs-basics/" aria-label="计算机基础"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->计算机基础<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/life-hobbies/" aria-label="生活"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->生活<!----></a></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/sciencefl/sciencefl.github.io" target="_blank" rel="noopener noreferrer" aria-label="Gitee"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/architecture-design/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%E4%B8%8E%E6%80%9D%E6%83%B3.html" aria-label="设计原则与设计思想"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-basic" style=""></span><!--]-->设计原则与设计思想<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/architecture-design/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E6%80%BB%E7%BB%93.html" aria-label="设计模式总结"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-Facebook" style=""></span><!--]-->设计模式总结<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon fa-fw fa-sm fas fa-fa6-solid:list" style=""></span>设计原则与思想</h1><div class="page-info"><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color8 clickable" role="navigation">设计模式</span><!--]--><meta property="articleSection" content="设计模式"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color8 clickable" role="navigation">设计模式</span><!--]--><meta property="keywords" content="设计模式"></span><span class="page-word-info" aria-label="字数🔠" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon" name="word"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>约 4764 字</span><meta property="wordCount" content="4764"></span><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 16 分钟</span><meta property="timeRequired" content="PT16M"></span><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#前言">前言</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#一、代码质量评判标准">一、代码质量评判标准</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_01-如何评价代码质量的高低">01|如何评价代码质量的高低？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_02-最常用的评价标准">02|最常用的评价标准</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_03-如何写出高质量的代码">03|如何写出高质量的代码：</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#二、面向对象">二、面向对象</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_01-面向对象概述">01|面向对象概述</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_02-面向对象四大特性">02|面向对象四大特性</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_03-面向对象-vs-面向过程-结构化">03|面向对象 vs 面向过程(结构化)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_04-面向对象分析、设计与编程">04 | 面向对象分析、设计与编程</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_05-接口-vs-抽象类">05 | 接口 VS 抽象类</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_06-基于接口而非实现编程">06 | 基于接口而非实现编程</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_07-多用组合少用继承">07 | 多用组合少用继承</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_08-贫血模型-vs-充血模型">08 | 贫血模型 VS 充血模型</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#三、-设计原则">三、 设计原则</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h1 id="设计原则与思想" tabindex="-1"><a class="header-anchor" href="#设计原则与思想"><span>设计原则与思想</span></a></h1><h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h2><p>面向对象、设计原则、设计模式、编程规范、重构技巧之间的关系。</p><figure><img src="https://static001.geekbang.org/resource/image/f3/d3/f3262ef8152517d3b11bfc3f2d2b12d3.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><ul><li>面向对象编程因为具有丰富的特性(抽象、封装、继承、多态)，可以实现很多复杂的设计思路，是很多设计原则、设计模式等编码实现的基础。</li><li>设计原则是指导我们代码设计的一些经验总结，对与某些场景下，是否应该应用某种设计模式具有指导意义，比如，开闭原则是很多设计模式(策略、模板等)的指导原则。</li><li>设计模式是针对软件开发过程中常遇到一些设计问题，总结出来的一套解决方案或者设计思路。应用设计模式的主要目的是<strong>提高代码的可扩展性</strong>。从抽象程度上来说，设计原则比设计模式更抽象。设计模式更加具体、更加可执行。</li><li>编程规范主要解决的是代码的<strong>可读性问题</strong>。编码规范相对于设计原则、设计模式，更加具体、更加偏重代码细节、更加能落地。持续的小重构依赖的理论基础主要就是编程规范。</li><li>重构作为保持代码质量不下降的有效手段，利用的就是面向对象、设计原则、设计模式、编码规范这些理论。</li></ul><p>​ 实际上，面向对象、设计原则、设计模式、编程规范、代码重构，这五者都是保持或者提高代码质量的方法论，本质上都是服务于编写高质量代码这一件事的。当我们追本逐源，看清这个本质之后，很多事情怎么做就清楚了，很多选择怎么选也清楚了。比如，在某个场景下，该不该用这个设计模式，那就看能不能提高代码的可扩展性；要不要重构，那就看重代码是否存在可读、可维护问题等。</p><h2 id="一、代码质量评判标准" tabindex="-1"><a class="header-anchor" href="#一、代码质量评判标准"><span>一、代码质量评判标准</span></a></h2><h3 id="_01-如何评价代码质量的高低" tabindex="-1"><a class="header-anchor" href="#_01-如何评价代码质量的高低"><span>01|如何评价代码质量的高低？</span></a></h3><p>标准多，带有主观性，无法用单一的标准来评判，。代码质量高低是一个综合各种因素得到的结论。我们并不能通过单一维度去评价一段代码的好坏。</p><h3 id="_02-最常用的评价标准" tabindex="-1"><a class="header-anchor" href="#_02-最常用的评价标准"><span>02|最常用的评价标准</span></a></h3><h4 id="最常用" tabindex="-1"><a class="header-anchor" href="#最常用"><span>最常用</span></a></h4><ol><li>可维护性：所谓的“维护”无外乎就是修改 bug、修改老的代码、添加新的代码之类的工作。所谓“代码易维护”就是指，在不破坏原有代码设计、不引入新的 bug 的情况下，能够快速地修改或者添加代码。所谓“代码不易维护”就是指，修改或者添加代码需要冒着极大的引入新 bug 的风险，并且需要花费很长的时间才能完成。</li><li>可扩展性：们在不修改或少量修改原有代码的情况下，通过扩展的方式添加新的功能代码。说直白点就是，代码预留了一些功能扩展点，你可以把新功能代码，直接插到扩展点上，而不需要因为要添加一个功能而大动干戈，改动大量的原始代码。</li><li>可读性：“任何傻瓜都会编写计算机能理解的代码。好的程序员能够编写人能够理解的代码”。需要看代码是否符合编码规范、命名是否达意、注释是否详尽、函数是否长短合适、模块划分是否清晰、是否符合高内聚低耦合等等。</li></ol><h4 id="其他" tabindex="-1"><a class="header-anchor" href="#其他"><span>其他</span></a></h4><ol><li><p>灵活性：如果一段代码易扩展、易复用或者易用，我们都可以称这段代码写得比较灵活。所以，灵活这个词的含义非常宽泛，很多场景下都可以使用。</p></li><li><p>简洁性：KISS原则，尽量保持代码简单。代码简单、逻辑清晰，也就意味着易读、易维护。<strong>思从深而行从简，真正的高手能云淡风轻地用最简单的方法解决最复杂的问题</strong>。这也是一个编程老手跟编程新手的本质区别之一。</p></li><li><p>可复用性：代码的可复用性可以简单地理解为，尽量减少重复代码的编写，复用已有的代码。</p></li><li><p>可测试性：代码可测试性的好坏，能从侧面上非常准确地反应代码质量的好坏。代码的可测试性差，比较难写单元测试，那基本上就能说明代码设计得有问题。</p></li></ol><h3 id="_03-如何写出高质量的代码" tabindex="-1"><a class="header-anchor" href="#_03-如何写出高质量的代码"><span>03|如何写出高质量的代码：</span></a></h3><p>写出高质量代码，我们就需要掌握一些更加细化、更加能落地的编程方法论。综合运用<strong>设计思想、设计原则、设计模式、编程规范和重构技巧</strong>。</p><h2 id="二、面向对象" tabindex="-1"><a class="header-anchor" href="#二、面向对象"><span>二、面向对象</span></a></h2><h3 id="_01-面向对象概述" tabindex="-1"><a class="header-anchor" href="#_01-面向对象概述"><span>01|面向对象概述</span></a></h3><p>主流的编程范式或者编程风格有三种，它们分别是<strong>面向过程、面向对象和函数式编程</strong>。面向对象编程因为其具有丰富的特性（封装、抽象、继承、多态），可以实现很多复杂的设计思路，是很多<strong>设计原则、设计模式</strong>编码实现的基础。</p><h3 id="_02-面向对象四大特性" tabindex="-1"><a class="header-anchor" href="#_02-面向对象四大特性"><span>02|面向对象四大特性</span></a></h3><h4 id="_1-封装-encapsulation" tabindex="-1"><a class="header-anchor" href="#_1-封装-encapsulation"><span>1. 封装（Encapsulation）</span></a></h4><ul><li><p>WHAT:封装也叫作信息隐藏或者数据访问保护。类通过暴露有限的访问接口，授权外部仅能通过类提供的方式来访问内部信息或者数据。它需要编程语言提供权限访问控制语法来支持，例如 Java 中的 private、protected、public 关键字。</p></li><li><p>存在的意义: 封装特性一方面是<strong>保护数据不被随意修改</strong>，提高代码的可维护性；另一方面是仅暴露有限的必要接口，<strong>提高类的易用性。</strong></p></li></ul><h4 id="_2-抽象-abstraction" tabindex="-1"><a class="header-anchor" href="#_2-抽象-abstraction"><span>2. 抽象（Abstraction）</span></a></h4><ul><li>WHAT:封装主要讲的是如何隐藏信息、保护数据，而抽象讲的是<strong>如何隐藏方法的具体实现</strong>，让调用者只需要关心方法提供了哪些功能，并不需要知道这些功能是如何实现的。(通过接口Interface和抽象类abstract实现)。</li><li>WHY:在面对复杂系统的时候，人脑能承受的信息复杂程度是有限的，所以我们必须忽略掉一些非关键性的实现细节。而抽象作为一种只关注功能点不关注实现的设计思路，正好帮我们的大脑过滤掉许多非必要的信息。换一个角度来考虑，我们在定义（或者叫命名）类的方法的时候，也要有抽象思维，不要在方法定义中，暴露太多的实现细节，以保证在某个时间点需要改变方法的实现逻辑的时候，不用去修改其定义。</li><li>存在的意义:一方面是提高代码的可扩展性、维护性，修改实现不需要改变定义，减少代码的改动范围；另一方面，它也是处理复杂系统的有效手段，能有效地过滤掉不必要关注的信息。</li></ul><h4 id="_3-继承-inheritance" tabindex="-1"><a class="header-anchor" href="#_3-继承-inheritance"><span>3. 继承（Inheritance）</span></a></h4><ul><li>WHAT:继承是用来表示类之间的 is-a 关系，分为两种模式：单继承和多继承。单继承表示一个子类只继承一个父类，多继承表示一个子类可以继承多个父类。为了实现继承这个特性，编程语言需要提供特殊的语法机制来支持。继承主要是用来解决代码复用的问题。</li><li>WHY: 代码复用，不过度使用继承，继承层次过深过复杂，就会导致代码可读性、可维护性变差。</li><li>存在的意义：<strong>继承主要是用来解决代码复用的问题。</strong></li></ul><h4 id="_4-多态-polymorphism" tabindex="-1"><a class="header-anchor" href="#_4-多态-polymorphism"><span>4. 多态（Polymorphism）</span></a></h4><ul><li>WHAT:多态是指子类可以替代父类，在代码运行的过程中，调用子类的实现方法。多态这种特性也需要编程语言提供特殊的语法机制来实现，比如继承、接口类、duck-typing。</li><li>存在的意义：多态可以提高代码的<strong>扩展性和复用性</strong>，是很多设计模式、设计原则、编程技巧的代码实现基础。</li></ul><h3 id="_03-面向对象-vs-面向过程-结构化" tabindex="-1"><a class="header-anchor" href="#_03-面向对象-vs-面向过程-结构化"><span>03|面向对象 vs 面向过程(结构化)</span></a></h3><h4 id="_1-面向对象" tabindex="-1"><a class="header-anchor" href="#_1-面向对象"><span>1. 面向对象</span></a></h4><ul><li><strong>面向对象编程</strong>是一种编程范式或者编程风格，<strong>他以类和对象作为组织代码基本单元</strong>，并将封装、抽象、继承、多态四个特性，作为代码设计和实现的基石。</li><li><strong>面向对象编程语言</strong>是支持类或对象的语法机制，并有现成的语法机制，能方便地实现面向对象编程四大特性（封装、抽象、继承、多态）的编程语言。</li></ul><h4 id="_2-面向过程" tabindex="-1"><a class="header-anchor" href="#_2-面向过程"><span>2. 面向过程</span></a></h4><ul><li><strong>面向过程编程</strong>也是一种编程范式或者编程风格，他以过程(功能：方法、函数、操作)为组织代码的基本单元，以数据和方法相分离的方式为主要特点，面向过程风格是一种流程化的编程风格，通过拼接一组顺序执行的方法来操作数据完成一项功能。</li><li><strong>面向过程编程语言</strong>它最大的特点是不支持类和对象两个语法概念，不支持丰富的面向对象编程特性（比如继承、多态、封装），仅支持面向过程编程。</li></ul><h4 id="_3-面向对象编程相比面向过程编程的优势" tabindex="-1"><a class="header-anchor" href="#_3-面向对象编程相比面向过程编程的优势"><span>3. 面向对象编程相比面向过程编程的优势</span></a></h4><ol><li>**OOP 更加能够应对大规模复杂程序的开发:**对于大规模复杂程序的开发，程序的处理流程并非单一的一条主线，而是错综复杂的网状结构。面向对象编程比起面向过程编程，更能应对这种复杂类型的程序开发。</li><li><strong>OOP 风格的代码更易复用、易扩展、易维护</strong>:面向对象编程相比面向过程编程，具有更加丰富的特性（封装、抽象、继承、多态）。利用这些特性编写出来的代码，更加易扩展、易复用、易维护。</li><li>**OOP 语言更加人性化、更加高级、更加智能:**从编程语言跟机器打交道的方式的演进规律中，我们可以总结出：面向对象编程语言比起面向过程编程语言，更加人性化、更加高级、更加智能。</li></ol><h3 id="_04-面向对象分析、设计与编程" tabindex="-1"><a class="header-anchor" href="#_04-面向对象分析、设计与编程"><span>04 | 面向对象分析、设计与编程</span></a></h3><p>面向对象分析（OOA）、面向对象设计（OOD）、面向对象编程（OOP），是面向对象开发的三个主要环节。简单点讲：面向对象分析就是要搞清楚做什么，面向对象设计就是要搞清楚怎么做，面向对象编程就是将分析和设计的的结果翻译成代码的过程。</p><h4 id="需求分析" tabindex="-1"><a class="header-anchor" href="#需求分析"><span>需求分析</span></a></h4><p>需求分析的过程实际上是一个不断迭代优化的过程。我们不要试图一下就给出一个完美的解决方案，而是先给出一个粗糙的、基础的方案，有一个迭代的基础，然后再慢慢优化。这样一个思考过程能让我们摆脱无从下手的窘境。</p><ol><li>给出需求分析基础方案</li><li>经过多轮分析优化</li><li>给出用例图，给出需求描述</li></ol><h4 id="面向对象设计" tabindex="-1"><a class="header-anchor" href="#面向对象设计"><span>面向对象设计</span></a></h4><p>面向对象设计和实现要做的事情就是把合适的代码放到合适的类中。至于到底选择哪种划分方法，判定的标准是让代码尽量地满足“松耦合、高内聚”、单一职责、对扩展开放对修改关闭等各种设计原则和思想，尽量地做到代码可复用、易读、易扩展、易维护。</p><p>面向对象分析的产出是详细的需求描述。面向对象设计的产出是类。在面向对象设计这一环节中，我们将需求描述转化为具体的类的设计。这个环节的工作可以拆分为下面四个部分。</p><ol><li><p>划分职责进而识别出有哪些类</p><ul><li><p>根据需求描述和用例，分解成功能点，一条一条罗列下来，尽可能小，做到单一职责。</p></li><li><p>根据功能点，总结归纳出核心类。</p></li></ul></li><li><p>定义类及其属性和方法</p><ul><li>根据描述中出现的名词作为候选属性，进行过滤与筛选，此外，还要挖掘一些没有出现在功能点描述中属性如createTime，以及描述中没有出现的方法如getToken</li></ul></li><li><p>定义类与类之间的交互关系</p><ul><li>UML 统一建模语言中定义了六种类之间的关系。它们分别是：<strong>泛化、实现、关联、聚合、组合、依赖</strong>。我们从更加贴近编程的角度，对类与类之间的关系做了调整，保留了四个关系：泛化、实现、组合、依赖。</li></ul></li><li><p>将类组装起来并提供执行入口</p><ul><li>将所有的类组装在一起，提供一个执行入口。这个入口可能是一个 main() 函数，也可能是一组给外部用的 API 接口。通过这个入口，我们能触发整个代码跑起来。</li></ul></li></ol><h3 id="_05-接口-vs-抽象类" tabindex="-1"><a class="header-anchor" href="#_05-接口-vs-抽象类"><span>05 | 接口 VS 抽象类</span></a></h3><p>什么时候该用抽象类？什么时候该用接口？实际上，判断的标准很简单。如果要表示一种 is-a 的关系，并且是为了解决代码复用问题，我们就用抽象类；如果要表示一种 has-a 关系，并且是为了解决抽象而非代码复用问题，那我们就用接口。</p><h3 id="_06-基于接口而非实现编程" tabindex="-1"><a class="header-anchor" href="#_06-基于接口而非实现编程"><span>06 | 基于接口而非实现编程</span></a></h3><p>应用这条原则，可以将接口和实现相分离，封装不稳定的实现，暴露稳定的接口。上游系统面向接口而非实现编程，不依赖不稳定的实现细节，这样当实现发生变化的时候，上游系统的代码基本上不需要做改动，以此来降低耦合性，提高扩展性。</p><p>越抽象、越顶层、越脱离具体某一实现的设计，越能提高代码的灵活性，越能应对未来的需求变化。好的代码设计，不仅能应对当下的需求，而且在将来需求发生变化的时候，仍然能够在不破坏原有代码设计的情况下灵活应对。而抽象就是提高代码扩展性、灵活性、可维护性最有效的手段之一。</p><h3 id="_07-多用组合少用继承" tabindex="-1"><a class="header-anchor" href="#_07-多用组合少用继承"><span>07 | 多用组合少用继承</span></a></h3><h4 id="_1-为什么不推荐使用继承" tabindex="-1"><a class="header-anchor" href="#_1-为什么不推荐使用继承"><span>1. 为什么不推荐使用继承？</span></a></h4><p>继承是面向对象的四大特性之一，用来表示类之间的 is-a 关系，可以解决代码复用的问题。虽然继承有诸多作用，**但继承层次过深、过复杂，也会影响到代码的可维护性。**在这种情况下，我们应该尽量少用，甚至不用继承。</p><h4 id="_2-组合相比继承有哪些优势" tabindex="-1"><a class="header-anchor" href="#_2-组合相比继承有哪些优势"><span>2. 组合相比继承有哪些优势</span></a></h4><p>继承主要有三个作用：表示 is-a 关系、支持多态特性、代码复用。而这三个作用都可以通过组合、接口、委托三个技术手段来达成。除此之外，利用组合还能<strong>解决层次过深、过复杂的继承关系影响代码可维护性的问题</strong>。</p><h4 id="_3-如何判断该用组合还是继承" tabindex="-1"><a class="header-anchor" href="#_3-如何判断该用组合还是继承"><span>3. 如何判断该用组合还是继承？</span></a></h4><p>如果类之间的继承结构稳定，层次比较浅，关系不复杂，我们就可以大胆地使用继承。反之，我们就尽量使用组合来替代继承。除此之外，还有一些设计模式、特殊的应用场景，会固定使用继承或者组合。</p><h3 id="_08-贫血模型-vs-充血模型" tabindex="-1"><a class="header-anchor" href="#_08-贫血模型-vs-充血模型"><span>08 | 贫血模型 VS 充血模型</span></a></h3><p>我们平时做 Web 项目的业务开发，大部分都是基于贫血模型的 MVC 三层架构。基于贫血模型的传统开发模式，是典型的面向过程的编程风格。相反，基于充血模型的 DDD 开发模式，是典型的面向对象的编程风格。</p><ol><li><p>贫血模型：面向过程，适合不复杂的系统开发</p></li><li><p>充血模型：面向对象，适合业务复杂的系统开发。</p></li><li><p>二者区别：主要区别在service层，Controller层和Repository层代码基本上相同。</p></li></ol><h2 id="三、-设计原则" tabindex="-1"><a class="header-anchor" href="#三、-设计原则"><span>三、 设计原则</span></a></h2><h4 id="_01-solid原则-单一职责-srp-single-responsibility-principle" tabindex="-1"><a class="header-anchor" href="#_01-solid原则-单一职责-srp-single-responsibility-principle"><span>01| SOLID原则：单一职责 SRP（Single Responsibility Principle）</span></a></h4><ul><li><p><strong>概念：</strong> 一个类只负责完成一个职责或者功能。</p></li><li><p><strong>意义：<strong>单一职责原则通过避免设计大而全的类，避免将不相关的功能耦合在一起，<strong>来提高类的内聚性</strong>。同时，类职责单一，类依赖的和被依赖的其他类也会变少，减少了代码的耦合性，以此来实现</strong>代码的高内聚、松耦合</strong>。但是，如果拆分得过细，实际上会适得其反，反倒会降低内聚性，也会影响代码的可维护性。</p><p>TODO: 解释详细的高内聚、低耦合的定义。</p></li><li><p><strong>不满足的5种情况</strong>：</p><ol><li>类中的代码行数、函数或者属性过多：影响代码的可读性和可维护性，我们就需要考虑对类进行拆分；</li><li>类依赖的其他类过多或者依赖类的其他类过多：不符合高内聚、低耦合的设计思想，我们就需要考虑对类进行拆分；</li><li>私有方法过多：我们就要考虑能否将私有方法独立到新的类中，设置为 public 方法，供更多的类使用，从而提高代码的复用性；</li><li>比较难给类起一个合适的名字：难用一个业务名词概括，或者只能用一些笼统的 Manager、Context 之类的词语来命名，这就说明类的职责定义得可能不够清晰；</li><li>类中大量的方法都是集中操作类中的某几个属性。在 UserInfo 中，如果一半的方法都是在操作 address 信息，那就可以考虑将这几个属性和对应的方法拆分出来。</li></ol></li></ul><h4 id="_02-solid原则-开闭原则-ocp-open-closed-principle" tabindex="-1"><a class="header-anchor" href="#_02-solid原则-开闭原则-ocp-open-closed-principle"><span>02| SOLID原则：开闭原则 OCP（Open Closed Principle）</span></a></h4><p>概念：添加一个新的功能，应该是通过在已有代码基础上扩展代码（新增模块、类、方法、属性等），而非修改已有代码（修改模块、类、方法、属性等）的方式来完成。</p><p>03| SOLID原则：里氏替换原则 LSP（Liskov substitution principle）</p><p>04| SOLID原则：接口隔离原则 ISP（Interface Segregation Principle）</p><p>05| SOLID原则：依赖倒置原则 DIP（Dependency Inversion Principle）</p><p>06| KISS、YAGNI 原则</p><p>07| DRY 原则</p><p>08| LOD 原则</p></div><!----><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><span class="vp-meta-info" data-allow-mismatch="text">2024/12/5 08:51:01</span></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: fuliang@ssc-hn.com">fuliang</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><!----><a class="route-link auto-link next" href="/architecture-design/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E6%80%BB%E7%BB%93.html" aria-label="设计模式总结"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">设计模式总结<span class="font-icon icon fa-fw fa-sm fas fa-Facebook" style=""></span></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><!----><div class="vp-copyright">
  版权声明：自由转载 - 非商用 - 非衍生 - 保持署名<a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh-hans" target="_blank" rel="noopener noreferrer">（创意共享 4.0 许可证）</a>|
  Copyright © 2024-present FlynnDocs</a>
  </div></footer></div><!--]--><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script src="/assets/js/runtime~app.4f703515.js" defer></script><script src="/assets/js/72.5eeee6ed.js" defer></script><script src="/assets/js/app.2fe6bdc4.js" defer></script>
  </body>
</html>
